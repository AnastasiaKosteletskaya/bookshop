(()=>{"use strict";var t,e,n,c,o={},a=0,r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;console.log("Loading books for category: ".concat(t,", startIndex: ").concat(e,", maxResults: ").concat(n));var c='https://www.googleapis.com/books/v1/volumes?q="subject:'.concat(t,'"&key=').concat("AIzaSyBafe9E1dVXd-_-wgsh83TO-CLAkurYOUw","&printType=books&startIndex=").concat(e,"&maxResults=").concat(n,"&langRestrict=en");fetch(c).then((function(t){return t.json()})).then((function(e){o[t]||(o[t]=[]),o[t]=o[t].concat(e.items),console.log("Books loaded: ".concat(e.items.length)),i(e.items)})).catch((function(t){return console.error("Error fetching books:",t)}))},i=function(t){var e=document.querySelector(".books");t.forEach((function(t){var n,c,o,a=t.volumeInfo,r=document.createElement("div");r.classList.add("book-item"),r.innerHTML='\n            <img src="'.concat((null===(n=a.imageLinks)||void 0===n?void 0:n.thumbnail)||"./assets/placeholder.jpg",'" alt="').concat(a.title,'" />\n            <div class="book-info">\n                <h2>').concat(a.title,'</h2>\n                <p class="author">').concat((null===(c=a.authors)||void 0===c?void 0:c.join(", "))||"Unknown","</p>\n                ").concat(a.averageRating?'<p class="reviews">'.concat(a.averageRating," stars, ").concat(a.ratingsCount," reviews</p>"):"",'\n                <p class="description">').concat(a.description?s(a.description):"","</p>\n                ").concat(null!==(o=a.saleInfo)&&void 0!==o&&o.listPrice?'<p class="price">'.concat(a.saleInfo.listPrice.amount," ").concat(a.saleInfo.listPrice.currencyCode,"</p>"):"",'\n                <button class="').concat(u(t.id)?"in-cart":"",'">').concat(u(t.id)?"In Cart":"Buy Now","</button>\n            </div>\n        "),e.appendChild(r);var i=r.querySelector("button");i.addEventListener("click",(function(){l(t.id),d(),i.textContent=u(t.id)?"In Cart":"Buy Now",i.classList.toggle("in-cart",u(t.id))}))}))},s=function(t){return t.length>200?t.substring(0,200)+"...":t},l=function(t){var e=JSON.parse(localStorage.getItem("cart"))||[],n=e.findIndex((function(e){return e===t}));-1!==n?e.splice(n,1):e.push(t),localStorage.setItem("cart",JSON.stringify(e))},u=function(t){return(JSON.parse(localStorage.getItem("cart"))||[]).includes(t)},d=function(){var t=JSON.parse(localStorage.getItem("cart"))||[];document.getElementById("cart-badge").textContent=t.length};t=document.querySelectorAll(".slides img"),e=document.querySelectorAll(".dot"),n=0,c=function(n){t.forEach((function(t,c){t.classList.toggle("active",c===n),e[c].classList.toggle("active",c===n)}))},setInterval((function(){n=(n+1)%t.length,c(n)}),5e3),e.forEach((function(t,e){t.addEventListener("click",(function(){c(n=e)}))})),c(n),document.querySelectorAll(".category").forEach((function(t,e){t.addEventListener("click",(function(){document.querySelector(".category.active").classList.remove("active"),t.classList.add("active"),document.querySelector(".books").innerHTML="",a=0,r(t.textContent,0,6)})),0===e&&(t.classList.add("active"),r(t.textContent,0,6))})),document.getElementById("load-more").addEventListener("click",(function(){var t=document.querySelector(".category.active").textContent;a+=6,console.log("Loading more books for category: ".concat(t,", startIndex: ").concat(a)),r(t,a,6)})),d(),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("burger-menu"),e=document.querySelector("nav"),n=document.querySelector(".icons");t.addEventListener("click",(function(){e.classList.toggle("active"),n.classList.toggle("active")}));var c=document.querySelectorAll(".category");c.forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),c.forEach((function(t){return t.classList.remove("active")})),t.classList.add("active")}))})),document.querySelector(".category").classList.add("active")}))})();